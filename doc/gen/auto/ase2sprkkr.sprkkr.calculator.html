

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ase2sprkkr.sprkkr.calculator module &mdash; ASE2SPRKKR  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ase2sprkkr.sprkkr.occupations module" href="ase2sprkkr.sprkkr.occupations.html" />
    <link rel="prev" title="ase2sprkkr.sprkkr.atomic_types module" href="ase2sprkkr.sprkkr.atomic_types.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ASE2SPRKKR
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Instalation of the pacakage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">ASE2SPRKKR - a short introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ase2sprkkr.html">ASE2SPRKKR -- class documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ase2sprkkr.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ase2sprkkr.common.html">ase2sprkkr.common package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ase2sprkkr.potential.html">ase2sprkkr.potential package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ase2sprkkr.sprkkr.html">ase2sprkkr.sprkkr package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="ase2sprkkr.sprkkr.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="ase2sprkkr.sprkkr.html#module-ase2sprkkr.sprkkr">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ase2sprkkr.task.html">ase2sprkkr.task package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ase2sprkkr.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ase2sprkkr.html#module-ase2sprkkr">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ASE2SPRKKR</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="ase2sprkkr.html">ase2sprkkr package</a> &raquo;</li>
        
          <li><a href="ase2sprkkr.sprkkr.html">ase2sprkkr.sprkkr package</a> &raquo;</li>
        
      <li>ase2sprkkr.sprkkr.calculator module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/auto/ase2sprkkr.sprkkr.calculator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ase2sprkkr.sprkkr.calculator">
<span id="ase2sprkkr-sprkkr-calculator-module"></span><h1>ase2sprkkr.sprkkr.calculator module<a class="headerlink" href="#module-ase2sprkkr.sprkkr.calculator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-calculator">
<h2>Module calculator<a class="headerlink" href="#module-calculator" title="Permalink to this headline">¶</a></h2>
<p>This module contains different classes used to define a new calculator for
specific spectroscopies understood by MsSpec.</p>
<p>For more informations about SPR-KKR, follow this
<cite>link &lt;http://olymp.cup.uni-muenchen.de/index.php?option=com_content&amp;
view=article&amp;id=8%3Asprkkr&amp;catid=4%3Asoftware&amp;Itemid=7&amp;lang=en&gt;</cite></p>
<dl class="py class">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ase2sprkkr.sprkkr.calculator.</span></code><code class="sig-name descname"><span class="pre">SprKkr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atoms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'info'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable_postfix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ase.calculators.calculator.Calculator</span></code></p>
<p>ASE calculator for SPR-KKR.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="ase2sprkkr.task.tasks.html#ase2sprkkr.task.tasks.Task" title="ase2sprkkr.task.tasks.Task"><strong>Task</strong></a> (<a class="reference internal" href="ase2sprkkr.task.tasks.html#ase2sprkkr.task.tasks.Task" title="ase2sprkkr.task.tasks.Task"><em>ase2sprkkr.task.tasks.Task</em></a>) – (just for an easier access to the class)</p></li>
<li><p><a class="reference internal" href="ase2sprkkr.potential.potentials.html#ase2sprkkr.potential.potentials.Potential" title="ase2sprkkr.potential.potentials.Potential"><strong>Potential</strong></a> (<a class="reference internal" href="ase2sprkkr.potential.potentials.html#ase2sprkkr.potential.potentials.Potential" title="ase2sprkkr.potential.potentials.Potential"><em>ase2sprkkr.potential.potentials.Potential</em></a>) – (dto.)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.implemented_properties">
<code class="sig-name descname"><span class="pre">implemented_properties</span></code><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">=</span> <span class="pre">['energy']</span></em><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.implemented_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Properties calculator can handle (energy, forces, …)</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.potential">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">potential</span></code><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.potential" title="Permalink to this definition">¶</a></dt>
<dd><p>The potential associated with the calculator. It will be used in
calculate and save_input methods, if it is not explicitly overriden by
the potential argument.
By default, the potential is created from atoms object (if it is set).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>potential</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="ase2sprkkr.potential.potentials.html#ase2sprkkr.potential.potentials.Potential" title="ase2sprkkr.potential.potentials.Potential">ase2sprkkr.potential.potentials.Potential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.atoms">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">atoms</span></code><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Atoms object, associate with the calculator.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>atoms</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="ase2sprkkr.sprkkr.sprkkr_atoms.html#ase2sprkkr.sprkkr.sprkkr_atoms.SprKkrAtoms" title="ase2sprkkr.sprkkr.sprkkr_atoms.SprKkrAtoms">ase2sprkkr.sprkkr.sprkkr_atoms.SprKkrAtoms</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr._advance_counter">
<code class="sig-name descname"><span class="pre">_advance_counter</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr._advance_counter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr._advance_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance counter for generating filenames with %c counter placeholder</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr._open_file">
<code class="sig-name descname"><span class="pre">_open_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">named</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w+'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_temporary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_subdirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr._open_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr._open_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a file given a ‘template’ filename file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em><em> or </em><em>file</em><em> or </em><em>None</em>) – if None, temporary object is used
if str is given, use it as a template
if file is given, return it unchanged</p></li>
<li><p><strong>templator</strong> (<em>callable</em>) – If it is given, the filemae is processed using this function,
see FilenameTemplator</p></li>
<li><p><strong>named</strong> (<em>bool</em>) – Whether to use named temporary file.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode to open the file</p></li>
<li><p><strong>allow_temporary</strong> (<em>bool</em>) – If False, throw an exception if the resulting filename should be temporary,
i.e. if None as filename is given</p></li>
<li><p><strong>create_subdirs</strong> (<em>bool</em>) – If true, create all non-existent directories in the given path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.save_input">
<code class="sig-name descname"><span class="pre">save_input</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_subdirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.save_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.save_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Save input (task) and potential files for a calculation.</p>
<dl>
<dt>properties: list of str</dt><dd><p>List of what needs to be calculated.  Can be any combination
of ‘energy’, ‘forces’, ‘stress’, ‘dipole’, ‘charges’, ‘magmom’
and ‘magmoms’.</p>
</dd>
<dt>task: sprkkr.task.tasks.Task or str or None</dt><dd><dl class="simple">
<dt>If None, task specified in __init__ is used, or the default ‘SCF’ task</dt><dd><p>will be created.</p>
</dd>
<dt>If string is given then if it is a task name, the Task object will be created</dt><dd><p>and the task file created using it.
Otherwise the task is interpreted as task file, which will be left unchanged.</p>
</dd>
</dl>
<p>The task is written into the location given by self.input_file.</p>
</dd>
<dt>potential: sprkkr.potential.potentials.Potential or str or None or False</dt><dd><p>If it is None, the self.potential value is used instead (see the later options)
If False, the potential filename is specified in the task.
If True or None, create the potential according to the atoms and self.potential_file property.
If str, then it is the filename of the potential, that is left unchanged on input</p>
</dd>
<dt>task_file: str or None</dt><dd><p>Filename or template (see FilenameTemplator class) where to save the task file.
None means to use the default value from the Calculator.</p>
</dd>
<dt>potential_file: str or None</dt><dd><p>Filename or template (see FilenameTemplator class) where to save the potential_file
None means to use the default value from the Calculator.
If potential is given as filename, the potential is NOT readed and stored again,
so in this case setting potential_file has no effect.</p>
</dd>
<dt>output_file: str or None or False</dt><dd><p>Filename or template (see FilenameTemplator class) where to save the output
None means to use the default value from the Calculator.
False means not to create the file.</p>
</dd>
<dt>create_subdirs: boolean</dt><dd><p>If true, create directories if they don’t exists.</p>
</dd>
<dt>options: dict</dt><dd><p>Options to set to the task. If task is given by filename, it is readed, altered by the
options and then the modified task (in a temporary file) will be used.</p>
</dd>
<dt>return_files: boolean</dt><dd><p>Return open files object instead of just string filenames.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>task</strong> (<em>Task</em>) – Created task object to be run.</p></li>
<li><p><strong>task_filename</strong> (<em>str or file</em>) – Input/task file. See return_files</p></li>
<li><p><strong>potential_filename</strong> (<em>str or file</em>) – Potential file. See return_files</p></li>
<li><p><strong>output_filename</strong> (<em>str or file</em>) – Output file. See return_files</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_subdirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable_postfix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the calculation, return various results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>print_output</strong> (<em>bool</em><em> or </em><em>str</em><em> or </em><em>None</em>) – Print output to stdout, too.
If print_output==’info’ only a few lines per iteration will be printed.
None means to use a default value (specified in constructor)</p></li>
<li><p><strong>executable_postfix</strong> (<em>str</em><em> or </em><em>bool</em><em> or </em><em>None</em>) – If not None, it overrides the executable_postifx, that have been specified when the
calculator have been created.</p></li>
<li><p><strong>mpi</strong> (<em>bool</em><em> or </em><em>None</em>) – Run the calculation using mpi? None means use the default value (specified in the
calculator’s contructor)</p></li>
<li><p><strong>---------</strong> – </p></li>
<li><p><strong>the other parameters</strong> (<em>For</em>) – </p></li>
<li><p><strong>the save_input</strong><strong>(</strong><strong>) </strong><strong>method</strong> (<em>see</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.calculate">
<code class="sig-name descname"><span class="pre">calculate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['energy']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_changes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['positions',</span> <span class="pre">'numbers',</span> <span class="pre">'cell',</span> <span class="pre">'pbc',</span> <span class="pre">'initial_charges',</span> <span class="pre">'initial_magmoms']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_subdirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable_postfix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.calculate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>ASE-interface method for the calculation.  This method runs the appropriate task(s)
for the requested properties (currently always the SCF one) and updates the
calculator object with the results.</p>
<p>See
<a class="reference external" href="https://wiki.fysik.dtu.dk/ase/development/calculators.html#ase.calculators.calculator.Calculator.calculate">https://wiki.fysik.dtu.dk/ase/development/calculators.html#ase.calculators.calculator.Calculator.calculate</a>
for the documentation of ASE interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>properties</strong> (<em>list</em><em> or </em><em>str</em>) – List of what needs to be calculated. Can be any combination of ‘energy’, ‘forces’, ‘stress’, ‘dipole’, ‘charges’, ‘magmom’ and ‘magmoms’.</p></li>
<li><p><strong>system_changes</strong> (<em>list of str</em>) – <p>List of what has changed since last calculation.  Can be
any combination of these six: ‘positions’, ‘numbers’, ‘cell’,
‘pbc’, ‘initial_charges’ and ‘initial_magmoms’.</p>
<p>This calculator ignore properties and system_changes.</p>
</p></li>
<li><p><strong>---------</strong> – </p></li>
<li><p><strong>the other parameters</strong> (<em>For</em>) – </p></li>
<li><p><strong>the run</strong><strong>(</strong><strong>) </strong><strong>and save_input</strong><strong>(</strong><strong>) </strong><strong>methods</strong> (<em>see</em>) – </p></li>
<li><p><strong>---------</strong> – </p></li>
<li><p><strong>ASE documentation</strong> (<em>From</em>) – </p></li>
<li><p><strong>into results dictionary like shown in this dummy example::</strong> (<em>inserted</em>) – <dl class="simple">
<dt>self.results = {‘energy’: 0.0,</dt><dd><p>’forces’: np.zeros((len(atoms), 3)),
‘stress’: np.zeros(6),
‘dipole’: np.zeros(3),
‘charges’: np.zeros(len(atoms)),
‘magmom’: 0.0,
‘magmoms’: np.zeros(len(atoms))}</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.scf">
<code class="sig-name descname"><span class="pre">scf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.scf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.scf" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut for calculating a SCF task</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.phagen">
<code class="sig-name descname"><span class="pre">phagen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.phagen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.phagen" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut for calculating a PHAGEN task</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.kkrgen">
<code class="sig-name descname"><span class="pre">kkrgen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.kkrgen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.kkrgen" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut for calculating a KKRGEN task</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.kkrspec">
<code class="sig-name descname"><span class="pre">kkrspec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.kkrspec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.kkrspec" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut for calculating a KKRSPEC task</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.kkrch">
<code class="sig-name descname"><span class="pre">kkrch</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.kkrch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.kkrch" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut for calculating a KKRCH task</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.copy_with_potential">
<code class="sig-name descname"><span class="pre">copy_with_potential</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">potential</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#SprKkr.copy_with_potential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.copy_with_potential" title="Permalink to this definition">¶</a></dt>
<dd><p>Return copy of self, with the potential variable set.
Use the method to create a new calculator with the given “result potential”</p>
</dd></dl>

<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr.potential_object">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">potential_object</span></code><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr.potential_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert self.potential to a Potential object</p>
</dd></dl>

<dl class="py attribute">
<dt id="ase2sprkkr.sprkkr.calculator.SprKkr._abc_impl">
<code class="sig-name descname"><span class="pre">_abc_impl</span></code><em class="property"> <span class="pre">=</span> <span class="pre">&lt;_abc._abc_data</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.SprKkr._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="ase2sprkkr.sprkkr.calculator.FilenameTemplator">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">ase2sprkkr.sprkkr.calculator.</span></code><code class="sig-name descname"><span class="pre">FilenameTemplator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">calculator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#FilenameTemplator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.FilenameTemplator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that replaces the placeholders in filenames with propper values,
see the replacements property of the class.
The used values are remembered so all the processed filenames use
the same value (e.g. counter, datetime etc…)</p>
<dl class="py method">
<dt id="ase2sprkkr.sprkkr.calculator.FilenameTemplator._get">
<code class="sig-name descname"><span class="pre">_get</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ase2sprkkr/sprkkr/calculator.html#FilenameTemplator._get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.FilenameTemplator._get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ase2sprkkr.sprkkr.calculator.FilenameTemplator.replacements">
<code class="sig-name descname"><span class="pre">replacements</span></code><em class="property"> <span class="pre">=</span> <span class="pre">{'%a':</span> <span class="pre">&lt;function</span> <span class="pre">FilenameTemplator.&lt;lambda&gt;&gt;,</span> <span class="pre">'%c':</span> <span class="pre">&lt;function</span> <span class="pre">FilenameTemplator.&lt;lambda&gt;&gt;,</span> <span class="pre">'%d':</span> <span class="pre">&lt;function</span> <span class="pre">FilenameTemplator.&lt;lambda&gt;&gt;,</span> <span class="pre">'%t':</span> <span class="pre">&lt;function</span> <span class="pre">FilenameTemplator.&lt;lambda&gt;&gt;}</span></em><a class="headerlink" href="#ase2sprkkr.sprkkr.calculator.FilenameTemplator.replacements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ase2sprkkr.sprkkr.occupations.html" class="btn btn-neutral float-right" title="ase2sprkkr.sprkkr.occupations module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ase2sprkkr.sprkkr.atomic_types.html" class="btn btn-neutral float-left" title="ase2sprkkr.sprkkr.atomic_types module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Matyáš Novák &amp; Jano Minár.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>